<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>AvaliaÃ§Ã£o â€“ DeclamaÃ§Ã£o</title>
<style>
  body{font-family:Arial, Helvetica, sans-serif;background:#f2f2f2;margin:0;padding:10px}
  .container{max-width:1200px;margin:auto;background:#fff;border:2px solid #000}
  .header{background:#ffe066;border-bottom:2px solid #000;padding:10px;text-align:center;font-weight:bold}
  .linha{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;gap:5px;padding:5px;background:#ffe066;border-bottom:2px solid #000}
  .campo{font-size:13px}
  .campo span{font-weight:bold}
  .grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:5px;padding:5px}
  .box{border:2px solid #000;background:#ffe066;padding:5px;font-size:13px}
  .box h3{text-align:center;margin:0 0 5px 0;font-size:14px}
  .box input{width:60px}
  textarea{width:100%;height:60px}
  .rodape{display:grid;grid-template-columns:2fr 1fr 1fr;padding:5px;background:#ffe066;border-top:2px solid #000}
  .btns{text-align:right;padding:10px}
  button{padding:10px 20px;font-size:16px;font-weight:bold}
  .notaFinal{font-size:18px;font-weight:bold;text-align:center}
</style>
</head>

<body>
<div class="container">

<!-- CABEÃ‡ALHO -->
<div class="header" style="display:grid;grid-template-columns:100px 1fr 100px;align-items:center;gap:10px">
  <div><img src="https://raw.githubusercontent.com/CCN1989/Imagens/refs/heads/main/Logo%20pequeno.png" style="max-height:80px"></div>
  <div>
    MTG â€“ MOVIMENTO TRADICIONALISTA GAÃšCHO<br>
    24Âº Rodeio Nativista de Esteio â€“ CTG Chama Nativa â€“ 12Âª RT<br>
    <strong>Planilha de AvaliaÃ§Ã£o â€“ DeclamaÃ§Ã£o</strong>
  </div>
  <div style="text-align:right">
    <img src="https://github.com/CCN1989/Imagens/blob/main/12RT.png?raw=true" style="max-height:80px">
  </div>
</div>

<!-- SELEÃ‡ÃƒO CANDIDATO -->
<div style="padding:10px;background:#ffe066;border-bottom:2px solid #000">
<select id="codCandidato" onchange="carregarCandidato()">
<option value="">Selecione o cÃ³digo do concorrente</option>
</select>
</div>

<!-- DADOS CANDIDATO -->
<div class="linha">
  <div class="campo">Concorrente:<br><span id="concorrente"></span></div>
  <div class="campo">Categoria:<br><span id="categoria"></span></div>
  <div class="campo">Entidade:<br><span id="entidade"></span></div>
  <div class="campo">MunicÃ­pio:<br><span id="municipio"></span></div>
  <div class="campo">RT:<br><span id="rt"></span></div>
</div>

<!-- FORMULÃRIO (SEM ALTERAÃ‡Ã•ES) -->
<!-- ... mantÃ©m exatamente como vocÃª enviou ... -->

<!-- RODAPÃ‰ -->
<div class="rodape">
  <div>Data/Hora: <span id="data"></span></div>
  <div>Avaliador:<br>
    <select id="avaliador">
      <option value="">Selecione o avaliador</option>
    </select>
  </div>
  <div class="notaFinal">Nota Final<br><span id="notaFinal">6,00</span></div>
</div>

<div class="btns">
  <button onclick="salvar()">SALVAR</button>
</div>

</div>

<script>
const URL = "https://script.google.com/macros/s/AKfycbyYSQinmrwo5iT_lVzO3jQd-FAYWqBPVafDTGVfQaehzJMeZUo2u4CROA0TS3j5jCHA/exec";

let candidatos = [];
let avaliadores = [];

/* =======================
   ðŸ”¹ CARREGA CANDIDATOS
======================= */
fetch(URL + "?acao=candidatos")
  .then(r => r.json())
  .then(data => {
    candidatos = data;
    data.forEach(c => {
      const opt = document.createElement("option");
      opt.value = c.codigo;
      opt.textContent = c.codigo;
      codCandidato.appendChild(opt);
    });
  });

/* =======================
   ðŸ”¹ CARREGA AVALIADORES
======================= */
fetch(URL + "?acao=avaliadores")
  .then(r => r.json())
  .then(data => {
    avaliadores = data;
    data.forEach(a => {
      const opt = document.createElement("option");
      opt.value = a.id;
      opt.textContent = `${a.id} - ${a.nome}`;
      avaliador.appendChild(opt);
    });
  });

/* =======================
   ðŸ”¹ PREENCHE DADOS CANDIDATO
======================= */
function carregarCandidato(){
  const c = candidatos.find(x => x.codigo == codCandidato.value);
  if(!c) return;
  concorrente.innerText = c.concorrente;
  categoria.innerText   = c.categoria;
  entidade.innerText    = c.entidade;
  municipio.innerText   = c.municipio;
  rt.innerText          = c.rt;
}

/* =======================
   ðŸ”¹ FUNÃ‡Ã•ES EXISTENTES
======================= */
function v(id){ return parseFloat(document.getElementById(id).value) || 0 }

/* calc() e salvar() permanecem IGUAIS aos seus */

</script>
</body>
</html>

